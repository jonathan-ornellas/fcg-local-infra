<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Diagramas FCG </title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f4f7f9; display: flex; flex-direction: column; align-items: center; padding: 40px; }
        .card { background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 30px; margin-bottom: 40px; width: 920px; }
        h2 { color: #2c3e50; border-bottom: 3px solid #512bd4; padding-bottom: 15px; margin-top: 0; }
        svg { width: 100%; height: auto; display: block; }
    </style>
</head>
<body>

    <div class="card">
        <h2>1. Fluxo de Comunicação Assíncrona (RabbitMQ)</h2>
        <svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
            <rect width="800" height="450" fill="#ffffff" rx="10"/>
            
            <rect x="50" y="170" width="160" height="80" rx="8" fill="#512bd4" />
            <text x="130" y="215" font-family="Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Games Service</text>
            
            <rect x="590" y="170" width="160" height="80" rx="8" fill="#512bd4" />
            <text x="670" y="215" font-family="Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Payments Service</text>
            
            <ellipse cx="400" cy="210" rx="110" ry="75" fill="#ff6600" />
            <text x="400" y="205" font-family="Arial" font-size="16" fill="white" text-anchor="middle" font-weight="bold">RabbitMQ</text>
            <text x="400" y="225" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Exchange: fcg.events</text>

            <path d="M 210 190 L 295 190" stroke="#333" stroke-width="2.5" marker-end="url(#arrow-head)" fill="none" />
            <text x="250" y="155" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold" fill="#34495e">1. games.purchase.requested</text>
            
            <path d="M 505 190 L 590 190" stroke="#333" stroke-width="2.5" marker-end="url(#arrow-head)" fill="none" />
            <text x="545" y="155" font-family="Arial" font-size="11" text-anchor="middle" fill="#7f8c8d">Consumo de Evento</text>
            
            <path d="M 590 230 L 505 230" stroke="#333" stroke-width="2.5" marker-end="url(#arrow-head)" fill="none" />
            <text x="550" y="275" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold" fill="#34495e">2. payments.payment.succeeded</text>
            
            <path d="M 295 230 L 210 230" stroke="#333" stroke-width="2.5" marker-end="url(#arrow-head)" fill="none" />
            <text x="250" y="275" font-family="Arial" font-size="11" text-anchor="middle" fill="#7f8c8d">Atualização de Status</text>

            <rect x="345" y="370" width="110" height="45" rx="6" fill="#e74c3c" />
            <text x="400" y="398" font-family="Arial" font-size="13" fill="white" text-anchor="middle" font-weight="bold">DLQ Queue</text>
            <path d="M 400 285 L 400 365" stroke="#e74c3c" stroke-width="2" stroke-dasharray="6,4" marker-end="url(#arrow-red)" fill="none" />

            <defs>
                <marker id="arrow-head" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
                </marker>
                <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
                </marker>
            </defs>
        </svg>
    </div>

    <div class="card">
        <h2>2. Arquitetura Kubernetes (EKS)</h2>
        <svg viewBox="0 0 800 550" xmlns="http://www.w3.org/2000/svg">
            <rect width="800" height="550" fill="none" stroke="#ff9900" stroke-width="3" rx="15"/>
            <text x="20" y="35" font-family="Arial" font-size="14" fill="#ff9900" font-weight="bold">AWS Cloud (us-east-2)</text>

            <rect x="50" y="80" width="580" height="440" fill="#f8fbff" stroke="#007bff" stroke-width="2" rx="10" stroke-dasharray="8,5"/>
            <text x="70" y="110" font-family="Arial" font-size="14" fill="#007bff" font-weight="bold">Amazon EKS Cluster (fcg)</text>

            <rect x="275" y="15" width="150" height="40" rx="20" fill="#232f3e" />
            <text x="350" y="40" font-family="Arial" font-size="11" fill="white" text-anchor="middle" font-weight="bold">ALB Ingress (30080)</text>

            <rect x="265" y="150" width="170" height="70" rx="8" fill="#512bd4" />
            <text x="350" y="192" font-family="Arial" font-size="15" fill="white" text-anchor="middle" font-weight="bold">API Gateway (YARP)</text>

            <rect x="100" y="315" width="120" height="60" rx="6" fill="#27ae60" />
            <text x="160" y="350" font-family="Arial" font-size="13" fill="white" text-anchor="middle" font-weight="bold">Users-API</text>
            
            <rect x="290" y="315" width="120" height="60" rx="6" fill="#27ae60" />
            <text x="350" y="350" font-family="Arial" font-size="13" fill="white" text-anchor="middle" font-weight="bold">Games-API</text>
            
            <rect x="480" y="315" width="120" height="60" rx="6" fill="#27ae60" />
            <text x="540" y="350" font-family="Arial" font-size="13" fill="white" text-anchor="middle" font-weight="bold">Payments-API</text>

            <rect x="650" y="155" width="130" height="60" rx="6" fill="#ff9900" />
            <text x="715" y="185" font-family="Arial" font-size="13" fill="white" text-anchor="middle" font-weight="bold">AWS Lambda</text>
            <text x="715" y="202" font-family="Arial" font-size="10" fill="white" text-anchor="middle">/recommendations</text>

            <path d="M 350 55 L 350 145" stroke="#333" stroke-width="2" marker-end="url(#arrow-k8s)" fill="none"/>
            <path d="M 270 215 L 175 305" stroke="#333" stroke-width="2" marker-end="url(#arrow-k8s)" fill="none"/>
            <path d="M 350 220 L 350 305" stroke="#333" stroke-width="2" marker-end="url(#arrow-k8s)" fill="none"/>
            <path d="M 430 215 L 525 305" stroke="#333" stroke-width="2" marker-end="url(#arrow-k8s)" fill="none"/>
            <path d="M 435 185 L 640 185" stroke="#ff9900" stroke-width="2.5" stroke-dasharray="6,4" marker-end="url(#arrow-lambda)" fill="none"/>

            <defs>
                <marker id="arrow-k8s" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
                    <path d="M0,0 L10,5 L0,10 Z" fill="#333" />
                </marker>
                <marker id="arrow-lambda" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
                    <path d="M0,0 L10,5 L0,10 Z" fill="#ff9900" />
                </marker>
            </defs>
        </svg>
    </div>

</body>
</html>